<p>step-summary works!</p>
<div class="step-container">
  <div>
    <mat-card>
      <span>Group</span>
      <div>
        <button mat-raised-button (click)="addGroup()">Add group</button>
      </div>
      <div *ngFor="let group of stepSummary.groups">
        <mat-form-field class="full-width">
          <mat-label>Name {{ group.id }}</mat-label>
          <input matInput type="text" [(ngModel)]="group.name" />
        </mat-form-field>
        <mat-form-field class="full-width">
          <mat-label>Description</mat-label>
          <textarea
            matInput
            type="text"
            [(ngModel)]="group.description"
          ></textarea>
        </mat-form-field>
        <button mat-stroked-button (click)="deleteGroup(group)" color="warn">
          Delete
        </button>
      </div>
    </mat-card>
  </div>
  <div
    *ngFor="let step of stepSummary.steps"
    class="step"
  >
    <div>
      <span>Step group</span>
      <mat-form-field appearance="fill">
        <mat-label>Favorite animal</mat-label>
        <mat-select [(value)]="step.groupId" required>
          <mat-option
            *ngFor="let group of stepSummary.groups"
            [value]="group.id"
          >
            {{ group.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="information">
      <mat-form-field class="full-width">
        <mat-label>Name {{ step.sortOrder }}</mat-label>
        <input matInput type="text" [(ngModel)]="step.name" />
      </mat-form-field>
      <mat-form-field class="full-width">
        <mat-label>Description</mat-label>
        <textarea
          matInput
          type="text"
          [(ngModel)]="step.description"
        ></textarea>
      </mat-form-field>
    </div>
    <div class="ingredients">
      <span>Add ingredients</span>
      <div>
        <div *ngFor="let ingredient of recipeIngredients">
          <mat-checkbox
            class="example-margin"
            (change)="changeIngredient($event.checked, ingredient, step)"
          >
            {{ ingredient.item.name }}
          </mat-checkbox>
          {{ ingredient.item.name }} {{ ingredient.weight.dataValueRelative }}
        </div>
        <div *ngFor="let added of step.addedIngredients">
          {{ added.item.name }}
          <mat-slider
            thumbLabel
            tickInterval="1"
            min="0"
            max="{{ getIngredientMax(added.item.id) }}"
            [(ngModel)]="added.weight.dataValueRelative"
          ></mat-slider>
        </div>
      </div>
    </div>
    <div>
      <button mat-stroked-button (click)="deleteStep(step)" color="warn">
        Delete
      </button>
    </div>
  </div>
</div>
<button mat-raised-button (click)="addStep()">Add Step</button>
